<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // promise.then()返回的新promise的状态由什么决定？
    // （1）简单表述：由.then()指定的回调函数执行结果决定
    // （2）详细表述：
    //    一、如果抛出异常，新promise状态变成rejected，参数为抛出的异常
    //    二、如果返回的是非promise的结果，新promise的状态为resolved，参数为返回的值
    //    三、如果返回的是另一个promise，此promise的结果就会成为新promise的结果

    const p = new Promise((resolve,reject)=>{
      resolve(1)
    }).then(value=>{
      console.log('onResolved1',value)
      // return 2;
      // return Promise.resolve(3);
      // return Promise.reject(4);
      throw new Error('错误了: 5');
    },reason=>{
      console.log('onRejected1',reason)
    }).then(value=>{
      console.log('onResolved2',value)
    },reason=>{
      console.log('onRejected2',reason)
    })
  </script>
</body>
</html>